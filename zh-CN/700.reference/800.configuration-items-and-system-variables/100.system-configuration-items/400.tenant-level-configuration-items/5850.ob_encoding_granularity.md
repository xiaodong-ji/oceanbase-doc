|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# ob_encoding_granularity

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该配置项从 V4.3.3 版本开始引入。</p>
</main>

## 功能描述

`ob_encoding_granularity` 用于设定单个微块 Encoding 的行数上限。

## 权限要求

* 查询配置项

  `sys` 租户和所有用户租户均可以使用 `SHOW PARAMETERS` 语句或视图 `GV$OB_PARAMETERS` 查询该配置项。

* 修改配置项

  `sys` 租户和用户租户均可修改该配置项。

## 属性说明

| **属性**  |    **描述**  |
|-----------|---------------|
| 参数类型    |    Int              |
| 默认值      |  65536  |
| 取值范围    |  [8192, 1048576]              |
| 是否可修改 | 是，支持通过 `ALTER SYSTEM SET` 语句修改。|
| 是否重启 OBServer 节点生效 | 否 |

## 使用说明

在 AP 业务存在少量更新的场景下，若因微块行数过多导致很难利用 skip index 加速过滤，或很难重用微块导致合并性能较差时，可以适当调小该参数来提升性能。

## 配置示例

设置单个微块 Encoding 的行数上限为 8192 行。

```shell
obclient> ALTER SYSTEM SET ob_encoding_granularity=8192;
```

## 相关文档（可选）

[压缩与编码](../../../../700.reference/100.oceanbase-database-concepts/900.storage-architecture/200.data-storage/400.compression-and-encoding.md)
